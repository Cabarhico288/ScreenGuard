(()=>{"use strict";var e={7853:(e,t,o)=>{var a=o(8894),n=o(6665),i=o(6986),r=o(1635),s=o(3929),l=o(6283),d=o(3668),c=o(5648),u=o(484),f=o(4627),g=o(5620),h=o(8179),m=o(397);const p=d.default.create({container:Object.assign({flex:1,justifyContent:"center",alignItems:"center",padding:10,backgroundColor:"white"},{height:"80%",paddingHorizontal:"10%"}),imageContainer:{position:"absolute",top:0,width:"100%",height:"40%",borderBottomEndRadius:300,borderBottomStartRadius:300,backgroundColor:"#e0f7fa",justifyContent:"center",alignItems:"center"},image:{width:250,height:250,borderRadius:125},title:{fontSize:48,fontWeight:"bold",marginTop:"20%",color:"#00796b",textAlign:"center"},message:{fontSize:22,textAlign:"center",marginVertical:20,color:"#555",paddingHorizontal:"20%",marginTop:20},button:{backgroundColor:"#00796b",paddingVertical:20,paddingHorizontal:60,borderRadius:25,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.8,shadowRadius:2,elevation:5,marginTop:10},buttonText:{fontSize:22,color:"#fff",fontWeight:"bold"}}),x=()=>{const e=(0,h.useNavigation)(),t=(0,n.useRef)(new f.default.Value(0)).current,a=(0,n.useRef)(new f.default.Value(0)).current,i=(0,n.useRef)(new f.default.Value(0)).current;(0,n.useEffect)((()=>{f.default.timing(t,{toValue:1,duration:800,useNativeDriver:!0,easing:g.default.ease}).start(),f.default.timing(a,{toValue:1,duration:600,delay:800,useNativeDriver:!0,easing:g.default.ease}).start(),f.default.timing(i,{toValue:1,duration:600,delay:1400,useNativeDriver:!0,easing:g.default.ease}).start()}),[t,a,i]);return(0,m.jsxs)(s.default,{style:p.container,children:[(0,m.jsx)(f.default.View,{style:[p.imageContainer,{opacity:t}],children:(0,m.jsx)(u.default,{source:o(9351),style:p.image})}),(0,m.jsx)(f.default.Text,{style:[p.title,{opacity:a}],children:"ScreenGuard"}),(0,m.jsx)(f.default.Text,{style:[p.message,{opacity:i}],children:"Your Digital Parenting Partner"}),(0,m.jsx)(c.default,{style:p.button,onPress:()=>{e.navigate("TermsAndConditions")},children:(0,m.jsx)(l.default,{style:p.buttonText,children:"Get Started"})})]})};var y=o(2772),b=o(1815),w=o(893),j=o(1385);const C=d.default.create({container:{flexGrow:1,padding:20,backgroundColor:"#f8f8f8",alignItems:"center"},imageContainer:{position:"absolute",top:0,width:"100%",height:"40%",borderBottomEndRadius:300,borderBottomStartRadius:300,backgroundColor:"#e0f7fa",justifyContent:"center",alignItems:"center"},image:{width:350,height:350,borderRadius:125},headerContainer:{flexDirection:"row",alignItems:"center",marginBottom:20,justifyContent:"center",marginTop:"35%"},title:{fontSize:36,fontWeight:"bold",marginLeft:10,color:"#007bff"},sectionContainer:{flexDirection:"row",alignItems:"center",marginBottom:10},sectionTitle:{fontSize:20,fontWeight:"bold",marginTop:20,marginBottom:10,color:"#333"},content:{fontSize:16,marginBottom:15,lineHeight:22,color:"#666",paddingHorizontal:"10%"},checkboxContainer:{flexDirection:"row",alignItems:"center",marginBottom:20,marginTop:20},checkbox:{marginRight:8,justifyContent:"center"},checkboxLabel:{fontSize:16,color:"#333"},button:{borderRadius:25,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.8,shadowRadius:2,elevation:5},buttonGradient:{paddingVertical:20,paddingHorizontal:60,borderRadius:25,alignItems:"center",width:"100%"},buttonDisabled:{backgroundColor:"#cccccc"},buttonText:{fontSize:22,color:"#fff",fontWeight:"bold"}}),v=()=>{const[e,t]=(0,n.useState)(!1),a=(0,h.useNavigation)(),i=(0,n.useRef)(new f.default.Value(0)).current,r=(0,n.useRef)(new f.default.Value(0)).current;(0,n.useEffect)((()=>{f.default.timing(i,{toValue:1,duration:800,useNativeDriver:!0,easing:g.default.ease}).start(),f.default.timing(r,{toValue:1,duration:600,delay:800,useNativeDriver:!0,easing:g.default.ease}).start()}),[i,r]);return(0,m.jsxs)(y.default,{contentContainerStyle:C.container,children:[(0,m.jsx)(b.default,{barStyle:"dark-content"}),(0,m.jsx)(f.default.View,{style:[C.imageContainer,{opacity:i}],children:(0,m.jsx)(u.default,{source:o(7227),style:C.image})}),(0,m.jsxs)(f.default.View,{style:[C.headerContainer,{opacity:i}],children:[(0,m.jsx)(j.default,{name:"document-text-outline",size:50,color:"#007bff"}),(0,m.jsx)(l.default,{style:C.title,children:"Terms and Conditions"})]}),(0,m.jsxs)(f.default.View,{style:{opacity:r},children:[(0,m.jsxs)(s.default,{style:C.sectionContainer,children:[(0,m.jsx)(j.default,{name:"information-circle-outline",size:30,color:"#007bff"}),(0,m.jsx)(l.default,{style:C.sectionTitle,children:"Introduction"})]}),(0,m.jsx)(l.default,{style:C.content,children:"Welcome to ScreenGuard. These Terms and Conditions govern your use of our application, which allows parents to monitor and set schedules on their child's device. By using this application, you agree to comply with these terms."}),(0,m.jsxs)(s.default,{style:C.sectionContainer,children:[(0,m.jsx)(j.default,{name:"checkmark-done-outline",size:30,color:"#007bff"}),(0,m.jsx)(l.default,{style:C.sectionTitle,children:"Acceptance of Terms"})]}),(0,m.jsx)(l.default,{style:C.content,children:"By downloading, installing, or using ScreenGuard, you agree to be bound by these Terms and Conditions. If you do not agree to these terms, do not use this application."}),(0,m.jsxs)(s.default,{style:C.sectionContainer,children:[(0,m.jsx)(j.default,{name:"shield-outline",size:30,color:"#007bff"}),(0,m.jsx)(l.default,{style:C.sectionTitle,children:"Parental Responsibility"})]}),(0,m.jsx)(l.default,{style:C.content,children:"ScreenGuard is designed to help parents monitor and manage their child's device usage. As a parent, you are responsible for ensuring the appropriate use of this application and the devices under your control."}),(0,m.jsxs)(s.default,{style:C.sectionContainer,children:[(0,m.jsx)(j.default,{name:"mail-outline",size:30,color:"#007bff"}),(0,m.jsx)(l.default,{style:C.sectionTitle,children:"Contact Us"})]}),(0,m.jsx)(l.default,{style:C.content,children:"If you have any questions about these Terms and Conditions, please contact us at: screenguard288@gmail.com"})]}),(0,m.jsxs)(s.default,{style:C.checkboxContainer,children:[(0,m.jsx)(c.default,{style:C.checkbox,onPress:()=>t(!e),children:(0,m.jsx)(j.default,{name:e?"checkmark-circle":"ellipse-outline",size:24,color:"#007bff"})}),(0,m.jsx)(l.default,{style:C.checkboxLabel,children:"I agree to the Terms and Conditions"})]}),(0,m.jsx)(c.default,{style:[C.button,!e&&C.buttonDisabled],onPress:()=>{e&&a.navigate("RoleSelection")},disabled:!e,children:(0,m.jsx)(w.LinearGradient,{colors:e?["#00796b","#48a999"]:["#cccccc","#b0b0b0"],style:C.buttonGradient,children:(0,m.jsx)(l.default,{style:C.buttonText,children:"Continue"})})})]})};var T=o(8264),S=o(7438),I=o(6773),R=o(4081),k=o(5484),z=o(4417),B=o(2027),P=o(530),D=o(1739);const O=d.default.create({container:{flex:1,justifyContent:"center",alignItems:"center",padding:10,backgroundColor:"white"},imageContainer:{position:"absolute",top:0,width:"100%",height:"40%",borderBottomEndRadius:300,borderBottomStartRadius:300,backgroundColor:"#e0f7fa",justifyContent:"center",alignItems:"center"},image:{width:250,height:250,borderRadius:125},title:{fontSize:48,fontWeight:"bold",marginTop:"20%",color:"#00796b",textAlign:"center"},formContainer:{width:300,borderRadius:10,alignItems:"center"},formTitle:{fontSize:24,fontWeight:"bold",marginBottom:20},input:{width:"100%",height:50,backgroundColor:"#F2F2F2",borderRadius:8,paddingHorizontal:15,marginBottom:15},passwordContainer:{position:"relative",width:"100%"},eyeIcon:{position:"absolute",right:15,top:18},primaryButton:{backgroundColor:"#1E88E5",padding:15,borderRadius:8,width:"100%",alignItems:"center",marginTop:10},buttonText:{color:"#fff",fontSize:18},switchText:{marginTop:20},linkText:{color:"#1E88E5",fontWeight:"bold"},backButton:{marginTop:15},backButtonText:{color:"#1E88E5",fontWeight:"bold",fontSize:16},googleButton:{flexDirection:"row",backgroundColor:"#DB4437",padding:15,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},googleButtonText:{color:"#fff",marginLeft:10,fontSize:16},facebookButton:{flexDirection:"row",backgroundColor:"#4267B2",padding:15,borderRadius:8,width:"48%",alignItems:"center",justifyContent:"center"},facebookButtonText:{color:"#fff",marginLeft:10,fontSize:16},buttonContainer:{flexDirection:"row",justifyContent:"space-between",width:"100%",marginTop:15},sendOtpButton:{backgroundColor:"#1E88E5",padding:10,borderRadius:8,alignItems:"center",width:50},emailContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%"},inputWithButton:{flex:1,marginRight:10},verifyButton:{backgroundColor:"#4CAF50",paddingVertical:12,paddingHorizontal:20,borderRadius:8,marginVertical:10,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5},verifyButtonText:{color:"white",fontSize:16,fontWeight:"600"},checkVerifyButton:{backgroundColor:"#2196F3",paddingVertical:12,paddingHorizontal:20,borderRadius:8,marginVertical:10,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5},checkVerifyButtonText:{color:"white",fontSize:16,fontWeight:"600"},forgotP:{color:"#1E88E5",fontWeight:"bold"},disabledButton:{backgroundColor:"#aaa"}});var E=o(7908),L=o(1087),V=o(2531);const A=(0,E.initializeApp)({apiKey:"AIzaSyDsRhe0WhThEOtsqxID92f1eKD4qf8ztQ8",authDomain:"screenguard-d01d9.firebaseapp.com",projectId:"screenguard-d01d9",storageBucket:"screenguard-d01d9.appspot.com",messagingSenderId:"59383951828",appId:"1:59383951828:web:01903cee337a7973eee641",measurementId:"G-TYG0558HJ2"});let F;F=(0,D.getAuth)(A),F.setPersistence(D.browserLocalPersistence);const N=(0,V.getFirestore)(A),W=async(e,t)=>{try{await(0,V.setDoc)((0,V.doc)(N,"users",e),{role:t}),console.log("User role saved successfully")}catch(o){throw console.error("Error saving role to Firestore:",o),o}},M=async e=>{try{const t=(0,V.doc)(N,"users",e),o=await(0,V.getDoc)(t);if(o.exists()){const e=o.data()?.role;return console.log(`Fetched user role: ${e}`),e||null}return console.log("No such document!"),null}catch(t){return console.error("Error fetching user role from Firestore:",t),null}},H=e=>/^(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{8,}$/.test(e)?{isValid:!0,errorMessage:""}:{isValid:!1,errorMessage:"Password must be at least 8 characters, contain an uppercase letter, a number, and a special character."};var G=o(8683);const $=async(e,t,o,a,n)=>{n(!0);try{const n=await(async(e,t)=>await(0,D.signInWithEmailAndPassword)(F,e,t))(e,t),i=n.user;if(!i.emailVerified)return void(0,k.showMessage)({message:"Email Not Verified",description:"Please verify your email before logging in.",type:"danger",icon:"danger",duration:8e3});const r=await M(i.uid);if(!r)return void(0,k.showMessage)({message:"Login Error",description:"Failed to fetch your account role. Please try again.",type:"danger",icon:"danger",duration:8e3});if(r!==o)return void(0,k.showMessage)({message:"Login Error",description:`You are trying to log in as a ${o}, but your account role is ${r}.`,type:"danger",icon:"danger",duration:8e3});await L.default.setItem("userToken",i.uid),await L.default.setItem("userRole",r),a.navigate("parent"===r?"_parentLayout":"_childLayout"),(0,k.showMessage)({message:"Login Successful",description:`Welcome ${i.email}`,type:"success",icon:"success",duration:8e3})}catch(i){(0,k.showMessage)({message:"Login Error",description:i.message||"An unexpected error occurred.",type:"danger",icon:"danger",duration:8e3})}finally{n(!1)}},q=async(e,t,o,a,n,i,r)=>{r(!0);const{isValid:s}=H(t);if(!s||t!==o)return(0,k.showMessage)({message:"Password Error",description:"Passwords do not match or are invalid.",type:"danger",icon:"danger",duration:8e3}),void r(!1);try{const o=await(async(e,t)=>{const o=await(0,D.createUserWithEmailAndPassword)(F,e,t);return await(0,D.sendEmailVerification)(o.user),o})(e,t),r=o.user,s="child"===a?(0,G.default)():null;await(0,V.setDoc)((0,V.doc)(N,"users",r.uid),{role:a,email:e,age:n.age,firstName:n.firstName,lastName:n.lastName,uuid:s}),(0,k.showMessage)({message:"Signup Successful",description:`Verification email sent to ${e}. Please verify your email before logging in.`,type:"success",icon:"success",duration:3e3}),setTimeout((()=>{i.goBack()}),5e3)}catch(l){(0,k.showMessage)({message:"Signup Error",description:l.message,type:"danger",icon:"danger",duration:8e3})}finally{r(!1)}},Y=async(e,t,o,a,n)=>{try{const a=await(0,D.signInWithCredential)(F,e),i=a.user.uid;let r=await M(i);if(r||(r=o,await W(i,r)),r!==o)return void(0,k.showMessage)({message:`${n} Sign-In Error`,description:`You selected ${o}, but your account role is ${r}.`,type:"danger"});await L.default.setItem("userToken",i),await L.default.setItem("userRole",r),(0,k.showMessage)({message:`${n} Login Successful`,description:`Welcome ${a.user.email}`,type:"success"}),t.replace("parent"===r?"_parentLayout":"_childLayout")}catch(i){(0,k.showMessage)({message:`${n} Sign-In Error`,description:i.message||"An error occurred during sign-in.",type:"danger"})}finally{a(!1)}},U=({route:e})=>{const{selectedRole:t="parent"}=e.params||{},[a,i]=(0,n.useState)("login"),[r,d]=(0,n.useState)(1),[f,g]=(0,n.useState)(""),[p,x]=(0,n.useState)(""),[y,b]=(0,n.useState)(""),[w,C]=(0,n.useState)(""),[v,T]=(0,n.useState)(""),[S,E]=(0,n.useState)(""),[L,V]=(0,n.useState)(""),[A,F]=(0,n.useState)(""),[N,G]=(0,n.useState)(""),[U,_]=(0,n.useState)(!1),[Q,J]=(0,n.useState)(!1),[K,Z]=(0,n.useState)(!1),X=(0,h.useNavigation)();console.log(t);const[ee,te,oe]=z.useAuthRequest({clientId:"731412951458-n0vfjfjd99s80783663sc9p8gufi387c.apps.googleusercontent.com",redirectUri:"http://localhost:19006/"}),[ae,ne,ie]=B.useAuthRequest({clientId:"1050333786542847",redirectUri:"http://localhost:19006/"});(0,n.useEffect)((()=>{(async()=>{if("success"===te?.type){const{authentication:e}=te;e?.accessToken&&await(async(e,t,o,a)=>{const n=(0,D.getAuth)();a(!0);try{const a=D.GoogleAuthProvider.credential(null,e),i=await(0,D.signInWithCredential)(n,a),r=i.user.uid;let s=await M(r);if(console.log("Fetched user role:",s),s||(console.log("No role found for the user, assigning selected role..."),s=o,await W(r,s),console.log("Assigned and saved role:",s)),s!==o)return void(0,k.showMessage)({message:"Role Mismatch",description:`You selected ${o}, but your account role is ${s}.`,type:"danger",icon:"danger",duration:8e3});(0,k.showMessage)({message:"Login Successful",description:`Welcome ${i.user.email}`,type:"success",icon:"success",duration:8e3}),t.navigate("parent"===s?"_parentLayout":"_childLayout")}catch(i){if(console.log("Google Sign-In Error:",i),"auth/account-exists-with-different-credential"===i.code){const e=i.customData.email,t=await(0,D.fetchSignInMethodsForEmail)(n,e);(0,k.showMessage)({message:"Google Sign-In Error",description:`This email is already associated with a ${t[0]} account.`,type:"danger",icon:"danger",duration:8e3})}else(0,k.showMessage)({message:"Google Sign-In Error",description:i.message,type:"danger",icon:"danger",duration:8e3})}finally{a(!1)}})(e.accessToken,X,t,Z)}})()}),[te,X,t]),(0,n.useEffect)((()=>{(async()=>{if("success"===ne?.type){const{authentication:e}=ne;e?.accessToken&&await(async(e,t,o,a)=>{const n=(0,D.getAuth)();a(!0);try{const a=D.FacebookAuthProvider.credential(e),i=await(0,D.signInWithCredential)(n,a),r=i.user.uid;let s=await M(r);if(console.log("Fetched user role:",s),s||(console.log("No role found for the user, assigning selected role..."),s=o,await W(r,s),console.log("Assigned and saved role:",s)),s!==o)return void(0,k.showMessage)({message:"Role Mismatch",description:`You selected ${o}, but your account role is ${s}.`,type:"danger",icon:"danger",duration:8e3});(0,k.showMessage)({message:"Login Successful",description:`Welcome ${i.user.email}`,type:"success",icon:"success",duration:8e3}),t.navigate("parent"===s?"_parentLayout":"_childLayout")}catch(i){if(console.log("Facebook Sign-In Error:",i),"auth/account-exists-with-different-credential"===i.code){const e=i.customData.email,t=await(0,D.fetchSignInMethodsForEmail)(n,e);(0,k.showMessage)({message:"Facebook Sign-In Error",description:`This email is already associated with a ${t[0]} account.`,type:"danger",icon:"danger",duration:8e3})}else(0,k.showMessage)({message:"Facebook Sign-In Error",description:i.message,type:"danger",icon:"danger",duration:8e3})}finally{a(!1)}})(e.accessToken,X,t,Z)}})()}),[ne,X,t]);const re=()=>_(!U);return(0,m.jsxs)(s.default,{style:O.container,children:[(0,m.jsx)(s.default,{style:O.imageContainer,children:(0,m.jsx)(u.default,{source:o("parent"===t?1082:810),style:O.image})}),(0,m.jsx)(l.default,{style:O.title,children:"parent"===t?"Parent Portal":"Child Portal"}),"login"===a?(0,m.jsxs)(s.default,{style:O.formContainer,children:[(0,m.jsx)(I.default,{value:f,onChangeText:g,style:O.input,placeholder:"Email",keyboardType:"email-address",autoCapitalize:"none"}),(0,m.jsxs)(s.default,{style:O.passwordContainer,children:[(0,m.jsx)(I.default,{value:p,onChangeText:x,style:O.input,placeholder:"Password",secureTextEntry:!U}),(0,m.jsx)(c.default,{onPress:re,style:O.eyeIcon,children:(0,m.jsx)(j.default,{name:U?"eye":"eye-off",size:24,color:"gray"})}),(0,m.jsx)(c.default,{onPress:async()=>{if(f){Z(!0);try{await(async e=>{try{const t=(0,D.getAuth)();await(0,D.sendPasswordResetEmail)(t,e),(0,k.showMessage)({message:"Success",description:"Password reset email sent! Check your inbox.",type:"success"})}catch(t){(0,k.showMessage)({message:"Error",description:t.message||"Failed to send password reset email.",type:"danger"})}})(f)}catch(e){console.log("Forgot Password Error:",e)}finally{Z(!1)}}else(0,k.showMessage)({message:"Error",description:"Please enter your email address to reset your password.",type:"danger"})},children:(0,m.jsx)(l.default,{style:O.forgotP,children:"Forgot Password?"})})]}),(0,m.jsx)(c.default,{style:[O.primaryButton,K?O.disabledButton:null],onPress:async()=>{if(f&&p){Z(!0);try{await $(f,p,t,X,Z)}catch(e){(0,k.showMessage)({message:"Login Failed",description:e.message||"An unexpected error occurred.",type:"danger"})}finally{Z(!1)}}else(0,k.showMessage)({message:"Error",description:"Please enter email and password.",type:"danger"})},disabled:K,children:K?(0,m.jsx)(P.default,{color:"#fff"}):(0,m.jsx)(l.default,{style:O.buttonText,children:"Log In"})}),(0,m.jsxs)(s.default,{style:O.buttonContainer,children:[(0,m.jsxs)(c.default,{style:O.googleButton,onPress:async()=>{Z(!0);try{const e=await oe();if("success"===e.type&&e.params?.accessToken){const o=D.GoogleAuthProvider.credential(e.params.accessToken);await Y(o,X,t,Z,"Google")}else console.log("Google sign-in unsuccessful.")}catch(e){console.log("Google sign-in failed:",e),(0,k.showMessage)({message:"Google Sign-In Error",description:"An error occurred while signing in with Google. Please try again.",type:"danger",icon:"danger",duration:8e3})}finally{Z(!1)}},children:[(0,m.jsx)(R.default,{name:"google",size:24,color:"white"}),(0,m.jsx)(l.default,{style:O.googleButtonText,children:"Log In with Google"})]}),(0,m.jsxs)(c.default,{style:O.facebookButton,onPress:async()=>{Z(!0);try{const e=await ie();if("success"===e.type&&e.params?.accessToken){const o=D.FacebookAuthProvider.credential(e.params.accessToken);await Y(o,X,t,Z,"Facebook")}else console.log("Facebook sign-in unsuccessful.")}catch(e){console.log("Facebook sign-in failed:",e),(0,k.showMessage)({message:"Facebook Sign-In Error",description:"An error occurred while signing in with Facebook. Please try again.",type:"danger",icon:"danger",duration:8e3})}finally{Z(!1)}},children:[(0,m.jsx)(R.default,{name:"facebook-square",size:24,color:"white"}),(0,m.jsx)(l.default,{style:O.facebookButtonText,children:"Log In with Facebook"})]})]}),(0,m.jsx)(c.default,{onPress:()=>i("signup"),children:(0,m.jsxs)(l.default,{style:O.switchText,children:["Don't have an account? ",(0,m.jsx)(l.default,{style:O.forgotP,children:"Sign Up"})]})}),(0,m.jsx)(c.default,{children:(0,m.jsxs)(l.default,{style:O.switchText,children:["Didn't receive the Verification link? ",(0,m.jsx)(l.default,{onPress:async()=>{if(f){const e=await(async e=>{try{const t=(0,D.getAuth)(),o=await t.currentUser;if(o&&o.email===e)return await o.reload(),o.emailVerified?{success:!1,message:"Your email is already verified."}:(await(0,D.sendEmailVerification)(o),{success:!0});throw new Error("User not found or email mismatch.")}catch(t){return{success:!1,message:t.message}}})(f);e.success?(0,k.showMessage)({message:"Success",description:"Verification link sent to your email.",type:"success"}):"Your email is already verified."===e.message?(0,k.showMessage)({message:"Info",description:"Your email is already verified.",type:"info"}):(0,k.showMessage)({message:"Error",description:e.message||"Failed to resend verification link.",type:"danger"})}else(0,k.showMessage)({message:"Error",description:"Please enter an email.",type:"warning"})},style:O.linkText,children:"Resend Verification Link"})]})})]}):(0,m.jsxs)(s.default,{style:O.formContainer,children:[1===r&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(I.default,{value:S,onChangeText:E,style:O.input,placeholder:"Age"}),(0,m.jsx)(I.default,{value:L,onChangeText:V,style:O.input,placeholder:"First Name"}),(0,m.jsx)(I.default,{value:A,onChangeText:F,style:O.input,placeholder:"Last Name"}),(0,m.jsx)(I.default,{value:N,onChangeText:G,style:O.input,placeholder:"Address"}),(0,m.jsx)(c.default,{style:O.primaryButton,onPress:()=>((e,t,o,a,n,i,r,s)=>{if(1===e&&t&&o&&a&&n)s(2);else if(2===e&&i&&r){const{isValid:e,errorMessage:t}=H(i);e?s(3):(0,k.showMessage)({message:"Password Error",description:t,type:"danger",icon:"danger",duration:8e3})}else(0,k.showMessage)({message:"Error",description:"Please fill in all required fields.",type:"danger",icon:"danger",duration:8e3})})(r,S,L,A,N,w,v,d),children:(0,m.jsx)(l.default,{style:O.buttonText,children:"Next"})})]}),2===r&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(I.default,{value:y,onChangeText:b,style:O.input,placeholder:"Email",keyboardType:"email-address",autoCapitalize:"none"}),(0,m.jsxs)(s.default,{style:O.passwordContainer,children:[(0,m.jsx)(I.default,{value:w,onChangeText:C,style:O.input,placeholder:"Password",secureTextEntry:!U}),(0,m.jsx)(c.default,{onPress:re,style:O.eyeIcon,children:(0,m.jsx)(j.default,{name:U?"eye":"eye-off",size:24,color:"gray"})})]}),(0,m.jsxs)(s.default,{style:O.passwordContainer,children:[(0,m.jsx)(I.default,{value:v,onChangeText:T,style:O.input,placeholder:"Confirm Password",secureTextEntry:!Q}),(0,m.jsx)(c.default,{onPress:()=>J(!Q),style:O.eyeIcon,children:(0,m.jsx)(j.default,{name:Q?"eye":"eye-off",size:24,color:"gray"})})]}),(0,m.jsx)(c.default,{style:O.primaryButton,onPress:async()=>{Z(!0);try{await q(y,w,v,t,{age:S,firstName:L,lastName:A,address:N},X,Z)}catch(e){(0,k.showMessage)({message:"Error",description:e.message,type:"danger"})}finally{Z(!1)}},children:(0,m.jsx)(l.default,{style:O.buttonText,children:"Sign Up"})})]})]}),(0,m.jsx)(k.default,{position:"top"})]})};o(8966).maybeCompleteAuthSession();const _=d.default.create({container:Object.assign({flex:1,justifyContent:"center",alignItems:"center",padding:10,backgroundColor:"white"},{height:"80%",paddingHorizontal:"10%"}),imageContainer:{position:"absolute",top:0,width:"100%",height:"40%",borderBottomEndRadius:300,borderBottomStartRadius:300,backgroundColor:"#e0f7fa",justifyContent:"center",alignItems:"center"},image:{width:250,height:350,borderRadius:125},title:{fontSize:48,fontWeight:"bold",marginTop:"20%",color:"#00796b",textAlign:"center"},subtitle:{fontSize:22,textAlign:"center",marginVertical:20,color:"#555",paddingHorizontal:"20%",marginTop:20},touchable:{width:"100%",borderRadius:25,overflow:"hidden",marginVertical:10},buttonText:{color:"white",fontSize:25,fontWeight:"bold",flex:1,textAlign:"center"},iconContainer:{backgroundColor:"#0056b3",paddingVertical:20,paddingHorizontal:30,borderTopRightRadius:1e3,borderBottomRightRadius:50},button:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",borderTopRightRadius:50,borderBottomRightRadius:50,borderRadius:25,backgroundColor:"#00796b"},modalContainer:{flex:1,justifyContent:"center",alignItems:"center",borderRadius:30},modalContent:{borderRadius:10,padding:20,alignItems:"center"}}),Q=()=>{const[e,t]=(0,n.useState)(null),[a,i]=(0,n.useState)(!1),r=(0,h.useNavigation)(),[d,f,g]=z.useAuthRequest({iosClientId:"731412951458-gnjkf3jgg3fvvhu9j2kph6c9q1amtk3d.apps.googleusercontent.com",androidClientId:"731412951458-bnk728dohago51o82n3cgn8qt2n3dsoi.apps.googleusercontent.com",webClientId:"731412951458-n0vfjfjd99s80783663sc9p8gufi387c.apps.googleusercontent.com"});(0,n.useEffect)((()=>{if("success"===f?.type){const{authentication:e}=f;console.log("Google Sign-In successful:",e)}}),[f]);const p=e=>{t(e),r.navigate("AuthForm",{selectedRole:e})};return(0,m.jsxs)(s.default,{style:_.container,children:[(0,m.jsx)(s.default,{style:_.imageContainer,children:(0,m.jsx)(u.default,{source:o(1690),style:_.image})}),(0,m.jsx)(l.default,{style:_.title,children:"Welcome to ScreenGuard"}),(0,m.jsx)(l.default,{style:_.subtitle,children:"Please select your role"}),(0,m.jsx)(c.default,{style:_.touchable,onPress:()=>p("parent"),children:(0,m.jsxs)(w.LinearGradient,{colors:"parent"===e?["#0056b3","#003d80"]:["#22c1c3","#dfdfdf"],style:_.button,children:[(0,m.jsx)(s.default,{style:_.iconContainer,children:(0,m.jsx)(S.default,{name:"user-circle-o",size:24,color:"#fff"})}),(0,m.jsx)(l.default,{style:_.buttonText,children:" Parent"})]})}),(0,m.jsx)(c.default,{style:_.touchable,onPress:()=>p("child"),children:(0,m.jsxs)(w.LinearGradient,{colors:"child"===e?["#0056b3","#003d80"]:["#22c1c3","#dfdfdf"],style:_.button,children:[(0,m.jsx)(s.default,{style:_.iconContainer,children:(0,m.jsx)(S.default,{name:"child",size:24,color:"#fff"})}),(0,m.jsx)(l.default,{style:_.buttonText,children:" Child"})]})}),(0,m.jsx)(T.default,{visible:a,transparent:!0,animationType:"fade",onRequestClose:()=>i(!1),children:(0,m.jsx)(s.default,{style:_.modalContainer,children:(0,m.jsx)(s.default,{style:_.modalContent,children:(0,m.jsx)(U,{route:{params:{}}})})})})]})};var J=o(6725),K=o(3344),Z=o(6042);const X=d.default.create({tabbar:{position:"absolute",bottom:0,left:0,right:0,flexDirection:"row",justifyContent:"space-around",alignItems:"center",backgroundColor:"#dfe7ff",paddingVertical:10,shadowColor:"#000",shadowOffset:{width:0,height:5},shadowOpacity:.1,shadowRadius:10,elevation:5,borderTopEndRadius:20,borderTopLeftRadius:20},tabbarItem:Object.assign({flex:1,justifyContent:"center",alignItems:"center",padding:10},{cursor:"pointer",":hover":{backgroundColor:"#f0f0f0"}}),label:{fontSize:11,marginTop:4},indicatorWrapper:{position:"absolute",bottom:-5,width:"100%",alignItems:"center"},indicator:{width:6,height:6,borderRadius:3,backgroundColor:"#0891b2"}}),ee=({state:e,descriptors:t,navigation:o})=>{const a={Home:e=>(0,m.jsx)(S.default,Object.assign({name:"home",size:26},e)),Location:e=>(0,m.jsx)(Z.default,Object.assign({name:"location",size:26},e)),Notifications:e=>(0,m.jsx)(j.default,Object.assign({name:"notifications",size:26},e)),Child:e=>(0,m.jsx)(S.default,Object.assign({name:"child",size:26},e))},n="#0891b2",i="#737373";return(0,m.jsx)(s.default,{style:X.tabbar,children:e.routes.map(((r,d)=>{const{options:u}=t[r.key],f=void 0!==u.title?u.title:r.name;if(["sitemap","not-found"].includes(r.name))return null;const g=e.index===d;return(0,m.jsxs)(c.default,{style:X.tabbarItem,accessibilityRole:"button",accessibilityState:g?{selected:!0}:{},accessibilityLabel:u.tabBarAccessibilityLabel,testID:u.tabBarTestID,onPress:()=>{const e=o.emit({type:"tabPress",target:r.key,canPreventDefault:!0});g||e.defaultPrevented||o.navigate(r.name,r.params)},children:[a[r.name]({color:g?n:i}),(0,m.jsx)(l.default,{style:[X.label,{color:g?n:i}],children:f}),g&&(0,m.jsx)(s.default,{style:X.indicatorWrapper,children:(0,m.jsx)(s.default,{style:X.indicator})})]},r.name)}))})},te=d.default.create({searchContainer:{borderRadius:30,backgroundColor:"white",marginTop:10,marginHorizontal:10,marginLeft:10,padding:5,shadowColor:"#000",shadowOffset:{width:0,height:4},shadowOpacity:.25,shadowRadius:4,elevation:4},searchInput:{width:"100%",height:30,borderColor:"transparent",borderWidth:0,borderRadius:20,paddingLeft:10}}),oe=()=>(0,m.jsx)(s.default,{style:te.searchContainer,children:(0,m.jsx)(I.default,{style:te.searchInput,placeholder:"Search"})});var ae=o(932);const ne=[{name:"Example 1",location:"Example Location 1",active:!0},{name:"Example 2",location:"Example Location 2",active:!1}],{width:ie}=J.default.get("window"),re=d.default.create({container:{padding:10,borderRadius:10,width:.94*ie},childList:{alignItems:"flex-start"},itemContainer:{flexDirection:"row",alignItems:"center",marginBottom:10,backgroundColor:"#fff",padding:10,borderRadius:12,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:5,elevation:3},childImage:{width:50,height:50,borderRadius:25,marginRight:10},childDetailsContainer:{flex:2,justifyContent:"center",paddingHorizontal:10},childName:{fontSize:16,fontWeight:"600",marginBottom:2,color:"#000"},childLocation:{fontSize:14,color:"#555",marginBottom:2},childStatus:{fontSize:14,fontWeight:"500"},divider:{width:1,height:"100%",backgroundColor:"#ddd",marginHorizontal:10},buttonsContainer:{flexDirection:"row",alignItems:"center"},actionButton:{paddingVertical:8,paddingHorizontal:12,borderRadius:10,backgroundColor:"#4CAF50",marginLeft:5},actionText:{color:"white",fontWeight:"600"}}),se=()=>{const e=(0,h.useNavigation)();return(0,m.jsx)(s.default,{style:re.container,children:(0,m.jsx)(ae.default,{data:ne,renderItem:({item:t})=>(0,m.jsxs)(s.default,{style:re.itemContainer,children:[(0,m.jsx)(u.default,{resizeMode:"contain",source:{uri:"https://cdn.builder.io/api/v1/image/assets/TEMP/435f2fe62be7b790756d95367b4366c5157f52f9e42bfa609a3893cb2ea45ec8?apiKey=946fd47e70b14e83a4cc54f9fc69027c"},style:re.childImage}),(0,m.jsx)(s.default,{style:re.divider}),(0,m.jsxs)(s.default,{children:[(0,m.jsx)(l.default,{style:re.childName,children:t.name}),(0,m.jsx)(l.default,{style:re.childLocation,children:t.location}),(0,m.jsx)(l.default,{style:[re.childStatus,{color:t.active?"green":"red"}],children:t.active?"Active":"Inactive"})]}),(0,m.jsxs)(s.default,{style:re.buttonsContainer,children:[(0,m.jsx)(c.default,{style:re.actionButton,onPress:()=>(t=>{console.log("Manage item:",t),e.navigate("ManageChild",{item:t})})(t),children:(0,m.jsx)(l.default,{style:re.actionText,children:"Manage"})}),(0,m.jsx)(c.default,{style:re.actionButton,onPress:()=>(e=>{console.log("Delete item:",e)})(t),children:(0,m.jsx)(l.default,{style:re.actionText,children:"Delete"})})]})]}),keyExtractor:(e,t)=>t.toString(),contentContainerStyle:re.childList})})},le=d.default.create({container:{flex:1,padding:20},placeholderText:{fontSize:18,textAlign:"center",marginBottom:20}}),de=()=>(0,m.jsxs)(s.default,{style:le.container,children:[(0,m.jsx)(oe,{}),(0,m.jsx)(se,{})]});var ce=o(8359),ue=o(9309),fe=o(7088);const ge=d.default.create({container:{flex:.9,flexDirection:"column",justifyContent:"center",alignItems:"center",paddingHorizontal:20},barcodeContainer:{flex:1,width:"100%",borderRadius:15,overflow:"hidden",borderColor:"#fff",borderWidth:2,backgroundColor:"#000",shadowColor:"#000",shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:10,elevation:10,marginVertical:90},button:{backgroundColor:"#4CAF50",paddingVertical:12,paddingHorizontal:32,borderRadius:25,marginTop:20,elevation:2},buttonText:{color:"#fff",fontSize:16,fontWeight:"bold"},messageText:{fontSize:18,textAlign:"center",marginTop:20}}),he=()=>{const[e,t]=(0,n.useState)(null),[o,a]=(0,n.useState)(!1);(0,n.useEffect)((()=>{(async()=>{const{status:e}=await fe.BarCodeScanner.requestPermissionsAsync();t("granted"===e)})()}),[]);const i=async(e,t)=>{try{(await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({parentDeviceId:"your-parent-device-id"})})).ok?ue.default.alert("Connected",`Successfully connected to child device with ID: ${e}`):ue.default.alert("Connection Failed","Failed to connect to the child device.")}catch(o){ue.default.alert("Error","An error occurred while connecting to the child device.")}a(!1)};return null===e?(0,m.jsx)(l.default,{style:ge.messageText,children:"Requesting camera permission..."}):!1===e?(0,m.jsx)(l.default,{style:ge.messageText,children:"No access to camera"}):(0,m.jsxs)(s.default,{style:ge.container,children:[(0,m.jsx)(s.default,{style:ge.barcodeContainer,children:(0,m.jsx)(fe.BarCodeScanner,{onBarCodeScanned:o?void 0:async({type:e,data:t})=>{a(!0);try{const e=JSON.parse(t),{childId:o,connectionUrl:n}=e;ue.default.alert("QR Code Scanned!",`Child ID: ${o}\nDo you want to connect to this device?`,[{text:"Cancel",style:"cancel",onPress:()=>a(!1)},{text:"Connect",onPress:()=>i(o,n)}])}catch(o){ue.default.alert("Invalid QR Code","The scanned QR code is not valid."),a(!1)}},style:d.default.absoluteFillObject})}),o&&(0,m.jsx)(c.default,{style:ge.button,onPress:()=>a(!1),children:(0,m.jsx)(l.default,{style:ge.buttonText,children:"Tap to Scan Again"})})]})},me=J.default.get("window").width,pe=d.default.create({contentContainer:{flexGrow:1,paddingBottom:20},content:{width:"100%",paddingHorizontal:5,marginTop:5},profileImage:{width:60,height:60,borderRadius:30},childContainer:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:5,borderRadius:20,marginBottom:5},greetingText:{fontSize:20,color:"#333",marginTop:5,marginHorizontal:.025*me},profileContainerContent:{alignItems:"center"},profileImageWrapper:{display:"flex",flexDirection:"column",alignItems:"center",marginHorizontal:15},profileName:{fontSize:14,marginTop:5,color:"#333"},addChildButton:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},addChildText:{marginTop:5,fontSize:14,color:"#4CAF50"},swipeContainer:{width:"100%",height:200,marginTop:20},functionContainer:{width:.95*me,justifyContent:"center",alignItems:"center",padding:20,borderRadius:10,marginHorizontal:.025*me},functionText:{marginTop:10,fontSize:20,fontWeight:"bold",textAlign:"center"}}),xe=({profileImages:e,locations:t})=>{const[o,a]=(0,n.useState)(!1),[i,r]=(0,n.useState)(null),d=(0,n.useRef)(null),[u,f]=(0,n.useState)(0),g=[{name:"Web Filtering",icon:"globe",backgroundColor:"#f8b400",textColor:"#fff"},{name:"Location of Child",icon:"map-marker-alt",backgroundColor:"#007bff",textColor:"#fff"},{name:"App Scheduling",icon:"calendar-alt",backgroundColor:"#28a745",textColor:"#fff"},{name:"Download Approval",icon:"download",backgroundColor:"#dc3545",textColor:"#fff"}];(0,n.useEffect)((()=>{const e=setInterval((()=>{const e=(u+1)%g.length;d.current?.scrollTo({x:e*me,animated:!0}),f(e)}),2e3);return()=>clearInterval(e)}),[u]);return(0,m.jsxs)(y.default,{contentContainerStyle:pe.contentContainer,children:[(0,m.jsxs)(s.default,{style:pe.childContainer,children:[(0,m.jsx)(y.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,contentContainerStyle:pe.profileContainerContent,children:e.map(((e,t)=>(0,m.jsxs)(c.default,{style:pe.profileImageWrapper,onPress:()=>r(t),children:[(0,m.jsx)(j.default,{name:"person-circle",size:60,color:"black",style:pe.profileImage}),(0,m.jsx)(l.default,{style:pe.profileName,children:`Child ${t+1}`})]},t)))}),(0,m.jsxs)(c.default,{style:pe.addChildButton,onPress:()=>{a(!0)},children:[(0,m.jsx)(j.default,{name:"add-circle",size:60,color:"#4CAF50"}),(0,m.jsx)(l.default,{style:pe.addChildText,children:"Add Child"})]})]}),(0,m.jsxs)(s.default,{style:pe.swipeContainer,children:[(0,m.jsx)(l.default,{style:pe.greetingText,children:" Application Functionalities "}),(0,m.jsx)(y.default,{ref:d,horizontal:!0,pagingEnabled:!0,showsHorizontalScrollIndicator:!1,children:g.map(((e,t)=>(0,m.jsxs)(s.default,{style:[pe.functionContainer,{backgroundColor:e.backgroundColor}],children:[(0,m.jsx)(ce.default,{name:e.icon,size:50,color:e.textColor}),(0,m.jsx)(l.default,{style:[pe.functionText,{color:e.textColor}],children:e.name})]},t)))})]}),(0,m.jsx)(T.default,{visible:o,animationType:"slide",transparent:!0,onRequestClose:()=>{a(!1)},children:(0,m.jsx)(he,{})})]})},ye=async e=>{try{const t=(0,V.doc)(N,"users",e),o=await(0,V.getDoc)(t);if(o.exists()){const e=o.data();return{firstName:e?.firstName||"",lastName:e?.lastName||""}}return console.log("No such document!"),{firstName:"",lastName:""}}catch(t){return console.error("Error fetching user data:",t),{firstName:"",lastName:""}}},{height:be}=J.default.get("window"),we=({style:e})=>(0,m.jsx)(f.default.View,{style:[je.bubble,e]}),je=d.default.create({headerContainer:{position:"relative",width:"100%",height:190,paddingHorizontal:20,paddingTop:25,paddingBottom:20,backgroundColor:"#fffecb",flexDirection:"row",justifyContent:"space-between",alignItems:"center",overflow:"hidden"},textContainer:{flex:1},greetingText:{fontSize:28,fontWeight:"bold",color:"#333"},subText:{fontSize:16,color:"#666",marginTop:5},profileImage:{width:80,height:80,borderRadius:50,borderWidth:4,borderColor:"#fff",shadowColor:"#000",shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:5,elevation:8},bubble:{position:"absolute",backgroundColor:"rgba(135, 206, 250, 0.5)",borderRadius:50}}),Ce=()=>{const[e,t]=(0,n.useState)({firstName:"",lastName:""}),[o,a]=(0,n.useState)(!0),i=(0,n.useRef)(new f.default.Value(0)).current,r=(0,n.useRef)(new f.default.Value(0)).current;(0,n.useEffect)((()=>{(async()=>{try{const e=(0,D.getAuth)().currentUser;if(e){const o=await ye(e.uid);t(o)}}catch(e){console.error("Error fetching user data:",e)}finally{a(!1)}})()}),[]),(0,n.useEffect)((()=>{f.default.loop(f.default.sequence([f.default.timing(i,{toValue:1,duration:6e3,useNativeDriver:!0}),f.default.timing(i,{toValue:0,duration:0,useNativeDriver:!0})])).start(),f.default.loop(f.default.sequence([f.default.timing(r,{toValue:1,duration:5e3,useNativeDriver:!0}),f.default.timing(r,{toValue:0,duration:0,useNativeDriver:!0})])).start()}),[]);const d=i.interpolate({inputRange:[0,1],outputRange:[be,-100]}),c=r.interpolate({inputRange:[0,1],outputRange:[be,-150]});return o?(0,m.jsx)(P.default,{size:"large",color:"#0000ff",style:{flex:1}}):(0,m.jsxs)(s.default,{style:je.headerContainer,children:[(0,m.jsx)(we,{style:{width:100,height:100,bottom:0,left:-50,transform:[{translateY:d}]}}),(0,m.jsx)(we,{style:{width:80,height:80,bottom:-30,right:-40,transform:[{translateY:c}]}}),(0,m.jsxs)(s.default,{style:je.textContainer,children:[(0,m.jsxs)(l.default,{style:je.greetingText,children:["Hi ",e.firstName," ",e.lastName]}),(0,m.jsx)(l.default,{style:je.subText,children:"Welcome"})]}),(0,m.jsx)(u.default,{source:{uri:"https://via.placeholder.com/100"},style:je.profileImage})]})},ve=d.default.create({container:{flex:1},headerContainer:{borderBottomLeftRadius:20,borderBottomRightRadius:20,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.2,shadowRadius:4,elevation:5,flex:.5},dashboardContainer:{flex:2,backgroundColor:"white",marginTop:0,borderTopLeftRadius:30,borderTopRightRadius:30,paddingTop:20}}),Te=({fontsLoaded:e})=>(0,m.jsxs)(s.default,{style:ve.container,children:[(0,m.jsx)(s.default,{style:ve.headerContainer,children:(0,m.jsx)(Ce,{})}),(0,m.jsx)(s.default,{style:ve.dashboardContainer,children:(0,m.jsx)(xe,{ParentName:"Parent",profileImages:["https://example.com/image1.jpg","https://example.com/image2.jpg","https://example.com/image3.jpg","https://example.com/image4.jpg"],fontsLoaded:e,locations:["Park","School","Home","Mall"],notifications:["New message from school","App update available","Battery low"],schedules:["Math class","Soccer practice","Dentist appointment","Piano lessons"]})})]});var Se=o(4701);const Ie=[{id:"1",title:"New Message",description:"You have received a new message from John.",icon:"chatbubble-ellipses"},{id:"2",title:"Update Available",description:"A new update is available. Please update the app.",icon:"download"},{id:"3",title:"Reminder",description:"Don\u2019t forget to complete your profile.",icon:"alert"}],Re=({title:e,description:t,icon:o,onDelete:a})=>(0,m.jsxs)(s.default,{style:ke.notificationItem,children:[(0,m.jsx)(j.default,{name:o,size:30,color:"#0891b2",style:ke.icon}),(0,m.jsxs)(s.default,{style:ke.textContainer,children:[(0,m.jsx)(l.default,{style:ke.notificationTitle,children:e}),(0,m.jsx)(l.default,{style:ke.notificationDescription,children:t})]}),(0,m.jsx)(c.default,{onPress:a,style:ke.webDeleteButton,children:(0,m.jsx)(j.default,{name:"trash",size:24,color:"#f44336"})})]}),ke=d.default.create({container:{flex:1,backgroundColor:"#f0f4f7",marginTop:45},headerContainer:{backgroundColor:"#0891b2",paddingVertical:20,paddingHorizontal:20,borderBottomLeftRadius:20,borderBottomRightRadius:20,marginBottom:10},header:{fontSize:20,fontWeight:"bold",color:"#8e8d8d"},notificationItem:{flexDirection:"row",backgroundColor:"#fff",padding:15,marginVertical:8,marginHorizontal:16,borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:5,alignItems:"center"},icon:{marginRight:15},textContainer:{flex:1},notificationTitle:{fontSize:18,fontWeight:"bold",color:"#0891b2"},notificationDescription:{fontSize:14,color:"#737373"},deleteButton:{backgroundColor:"#f44336",justifyContent:"center",alignItems:"center",width:80,height:"100%",borderRadius:10,marginVertical:8,marginRight:16},webDeleteButton:{padding:10}}),ze=()=>{const[e,t]=(0,n.useState)(Ie);return(0,m.jsx)(Se.default,{style:ke.container,children:(0,m.jsx)(ae.default,{data:e,keyExtractor:e=>e.id,renderItem:({item:e})=>(0,m.jsx)(Re,{title:e.title,description:e.description,icon:e.icon,onDelete:()=>{return o=e.id,void t((e=>e.filter((e=>e.id!==o))));var o}})})})};var Be=o(4037);(0,r.default)();const Pe=d.default.create({sidebarContainer:{position:"absolute",top:0,bottom:0,backgroundColor:"#fff",shadowColor:"#000",shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:8,elevation:10,zIndex:10,borderTopRightRadius:20,borderBottomRightRadius:20},sidebar:{flex:1,paddingTop:50,paddingHorizontal:25},header:{alignItems:"center",marginBottom:30},profileImage:{width:80,height:80,borderRadius:40,marginBottom:10,borderWidth:2,borderColor:"#7F3DFF"},profileName:{fontSize:22,fontWeight:"bold",color:"#333"},sidebarItem:{flexDirection:"row",alignItems:"center",paddingVertical:15,paddingHorizontal:10,marginBottom:15,borderRadius:10,backgroundColor:"#f7f7f7",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:2},sidebarIcon:{marginRight:15},sidebarItemText:{fontSize:18,color:"#333"},logoutText:{color:"#FF4C4C",fontWeight:"bold"},darkModeContainer:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginTop:50,paddingVertical:15,paddingHorizontal:10,borderRadius:10,backgroundColor:"#f7f7f7",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:2},darkModeText:{fontSize:18,color:"#333"}}),De=({sidebarPosition:e,toggleSidebar:t})=>{const[o,a]=(0,n.useState)(!1),i=(0,h.useNavigation)();return(0,m.jsx)(f.default.View,{style:[Pe.sidebarContainer,{left:e,width:"30%"}],children:(0,m.jsxs)(s.default,{style:Pe.sidebar,children:[(0,m.jsxs)(s.default,{style:Pe.header,children:[(0,m.jsx)(u.default,{source:{uri:"https://via.placeholder.com/150"},style:Pe.profileImage}),(0,m.jsx)(l.default,{style:Pe.profileName,children:"Parent"})]}),(0,m.jsxs)(c.default,{style:Pe.sidebarItem,onPress:()=>i.navigate("AccountSetting"),children:[(0,m.jsx)(j.default,{name:"person-outline",size:24,color:"#333",style:Pe.sidebarIcon}),(0,m.jsx)(l.default,{style:Pe.sidebarItemText,children:"Account"})]}),(0,m.jsxs)(c.default,{style:Pe.sidebarItem,onPress:()=>i.navigate("Setting"),children:[(0,m.jsx)(j.default,{name:"settings-outline",size:24,color:"#333",style:Pe.sidebarIcon}),(0,m.jsx)(l.default,{style:Pe.sidebarItemText,children:"Settings"})]}),(0,m.jsxs)(c.default,{style:Pe.sidebarItem,onPress:()=>i.navigate("About"),children:[(0,m.jsx)(j.default,{name:"information-circle-outline",size:24,color:"#333",style:Pe.sidebarIcon}),(0,m.jsx)(l.default,{style:Pe.sidebarItemText,children:"About"})]}),(0,m.jsxs)(c.default,{style:Pe.sidebarItem,onPress:async()=>{try{await F.signOut(),await L.default.removeItem("userToken"),await L.default.removeItem("userRole"),i.replace("ChooseAccount"),(0,k.showMessage)({message:"Logged Out",description:"You have been logged out successfully.",type:"success",icon:"success",duration:4e3})}catch(e){(0,k.showMessage)({message:"Logout Failed",description:e.message||"An error occurred while logging out.",type:"danger",icon:"danger",duration:8e3})}},children:[(0,m.jsx)(j.default,{name:"log-out-outline",size:24,color:"#FF4C4C",style:Pe.sidebarIcon}),(0,m.jsx)(l.default,{style:[Pe.sidebarItemText,Pe.logoutText],children:"Log Out"})]}),(0,m.jsxs)(s.default,{style:Pe.darkModeContainer,children:[(0,m.jsx)(l.default,{style:Pe.darkModeText,children:"Dark Mode"}),(0,m.jsx)(Be.default,{value:o,onValueChange:()=>{a(!o)},thumbColor:o?"#7F3DFF":"#f4f3f4",trackColor:{false:"#767577",true:"#81b0ff"}})]})]})})},{width:Oe}=J.default.get("window"),Ee=(0,K.default)(),Le=d.default.create({container:{flex:1,backgroundColor:"#f8f9fa"},profileButton:{position:"absolute",top:6,right:20,width:50,height:50,alignItems:"center",justifyContent:"center",zIndex:20}}),Ve=()=>{const[e,t]=(0,n.useState)(!1),o=(0,n.useState)(new f.default.Value(.75*-Oe))[0];(0,n.useEffect)((()=>{f.default.timing(o,{toValue:e?0:.75*-Oe,duration:300,useNativeDriver:!1}).start()}),[e]);const a=()=>{t(!e)};return(0,m.jsxs)(s.default,{style:Le.container,children:[(0,m.jsxs)(Ee.Navigator,{tabBar:e=>(0,m.jsx)(ee,Object.assign({},e)),children:[(0,m.jsx)(Ee.Screen,{name:"Home",component:Te,options:{headerShown:!1}}),(0,m.jsx)(Ee.Screen,{name:"Child",component:de,options:{headerShown:!1}}),(0,m.jsx)(Ee.Screen,{name:"Notifications",component:ze,options:{headerShown:!1}})]}),(0,m.jsx)(c.default,{onPress:a,style:Le.profileButton,children:(0,m.jsx)(j.default,{name:"reorder-three-outline",size:40,color:"#8e8d8d"})}),(0,m.jsx)(De,{sidebarPosition:o,toggleSidebar:a})]})},{width:Ae,height:Fe}=J.default.get("window"),Ne=d.default.create({headerContainer:{width:"100%",height:190,paddingHorizontal:20,paddingTop:25,paddingBottom:20,backgroundColor:"#f8f9fa",flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderBottomLeftRadius:20,borderBottomRightRadius:20},textContainer:{flex:1},greetingText:{fontSize:28,fontWeight:"bold",color:"#333"},subText:{fontSize:16,color:"#666",marginTop:5},avatar:{width:80,height:80,borderRadius:50,borderWidth:4,borderColor:"#fff",shadowColor:"#000",shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:5,elevation:8}}),We=()=>(0,m.jsx)(Se.default,{style:{flex:1},children:(0,m.jsxs)(s.default,{style:Ne.headerContainer,children:[(0,m.jsxs)(s.default,{style:Ne.textContainer,children:[(0,m.jsx)(l.default,{style:Ne.greetingText,children:"Child"}),(0,m.jsx)(l.default,{style:Ne.subText,children:"Welcome"})]}),(0,m.jsx)(u.default,{style:Ne.avatar,source:{uri:"https://via.placeholder.com/100"}})]})});var Me=o(9149);const He={"Social Media":[{name:"Facebook",icon:"logo-facebook"},{name:"Instagram",icon:"logo-instagram"},{name:"Twitter",icon:"logo-twitter"}],Entertainment:[{name:"YouTube",icon:"logo-youtube"},{name:"TikTok",icon:"logo-tiktok"}],School:[{name:"Zoom",icon:"videocam-outline"},{name:"Google Classroom",icon:"school-outline"},{name:"Khan Academy",icon:"school-outline"}],Games:[{name:"Minecraft",icon:"game-controller-outline"},{name:"Roblox",icon:"game-controller-outline"},{name:"Fortnite",icon:"game-controller-outline"}]},{width:Ge}=J.default.get("window"),$e=d.default.create({gradient:{flex:1,borderRadius:10,backgroundColor:"white"},container:{flex:1,padding:20,justifyContent:"center"},title:{fontSize:24,fontWeight:"bold",marginBottom:20,textAlign:"center"},input:{borderWidth:1,borderColor:"#ddd",borderRadius:8,padding:10,marginBottom:15},timeContainer:{flexDirection:"row",justifyContent:"space-between",marginBottom:15},timeInput:{flex:1,marginRight:0},appList:{marginTop:20},categoryContainer:{marginBottom:30},categoryTitle:{fontSize:20,fontWeight:"bold",marginBottom:10},appItem:{alignItems:"center",marginRight:15},selectedAppItem:{opacity:.6},iconContainer:{width:60,height:60,borderRadius:30,backgroundColor:"#4CAF50",justifyContent:"center",alignItems:"center",marginBottom:8},appName:{fontSize:14,color:"#333"},saveButton:{backgroundColor:"#4CAF50",padding:15,borderRadius:8,marginTop:20,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.2,shadowRadius:4,elevation:3,alignItems:"center"},saveButtonText:{color:"#fff",fontSize:16,fontWeight:"bold"}}),qe=()=>{const[e,t]=(0,n.useState)([]),[o,a]=(0,n.useState)(""),[i,r]=(0,n.useState)(""),[d,u]=(0,n.useState)(""),f=({item:o})=>(0,m.jsxs)(c.default,{style:[$e.appItem,e.includes(o)&&$e.selectedAppItem],onPress:()=>(o=>{e.includes(o)?t(e.filter((e=>e!==o))):t([...e,o])})(o),children:[(0,m.jsx)(s.default,{style:$e.iconContainer,children:(0,m.jsx)(j.default,{name:o.icon,size:30,color:"#fff"})}),(0,m.jsx)(l.default,{style:$e.appName,children:o.name})]});return(0,m.jsx)(s.default,{style:$e.gradient,children:(0,m.jsxs)(s.default,{style:$e.container,children:[(0,m.jsx)(l.default,{style:$e.title,children:"Set Schedule"}),(0,m.jsx)(I.default,{placeholder:"Enter Schedule Name",value:d,onChangeText:u,style:$e.input}),(0,m.jsxs)(s.default,{style:$e.timeContainer,children:[(0,m.jsx)(I.default,{placeholder:"Start Time",value:o,onChangeText:a,style:[$e.input,$e.timeInput]}),(0,m.jsx)(I.default,{placeholder:"End Time",value:i,onChangeText:r,style:[$e.input,$e.timeInput]})]}),(0,m.jsx)(ae.default,{data:Object.keys(He),renderItem:({item:e})=>(0,m.jsxs)(s.default,{style:$e.categoryContainer,children:[(0,m.jsx)(l.default,{style:$e.categoryTitle,children:e}),(0,m.jsx)(ae.default,{data:He[e],renderItem:f,keyExtractor:e=>e.name,horizontal:!0,showsHorizontalScrollIndicator:!1})]}),keyExtractor:e=>e,contentContainerStyle:$e.appList}),(0,m.jsx)(c.default,{style:$e.saveButton,onPress:()=>{console.log(`Schedule: ${d}, Apps: ${e.map((e=>e.name)).join(", ")}, Time: ${o} - ${i}`),t([]),a(""),r(""),u("")},children:(0,m.jsx)(l.default,{style:$e.saveButtonText,children:"Save Schedule"})})]})})},{width:Ye,height:Ue}=J.default.get("window"),_e=[{icon:"facebook",label:"Facebook",time:"1h 10m"},{icon:"youtube",label:"YouTube",time:"50m"},{icon:"twitter",label:"Twitter",time:"30m"},{icon:"instagram",label:"Instagram",time:"45m"}],Qe=d.default.create({container:{flex:1,backgroundColor:"#f0f0f0"},contentContainer:{paddingVertical:20,alignItems:"center"},summary:{flexDirection:"row",alignItems:"center",marginVertical:10,backgroundColor:"#ffffff",padding:20,borderRadius:20,shadowColor:"#000",shadowOffset:{width:0,height:4},shadowOpacity:.1,shadowRadius:3,elevation:5,width:.9*Ye},summaryTextContainer:{flex:1,marginLeft:15},summaryText:{fontSize:18,color:"#333",fontWeight:"600"},time:{fontSize:36,fontWeight:"bold",color:"#388E3C"},divider:{height:1,backgroundColor:"#ddd",marginVertical:20,width:.8*Ye},controlsContainer:{marginTop:20,width:.9*Ye},controlButtonWrapper:{marginBottom:15},controlButton:{flexDirection:"row",alignItems:"center",paddingVertical:12,paddingHorizontal:15,borderRadius:8,shadowColor:"#000",shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:5,elevation:5},buttonIcon:{marginRight:10},controlButtonText:{color:"#fff",fontWeight:"bold",fontSize:16,textAlign:"center"},appUsage:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginVertical:10,backgroundColor:"#ffffff",padding:15,borderRadius:15,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:3,elevation:5,width:.9*Ye},appInfo:{flexDirection:"row",alignItems:"center"},appLabel:{fontSize:16,color:"#333",marginLeft:10},appTime:{fontSize:16,color:"#333"},modalContainer:{flex:1,justifyContent:"center",alignItems:"center"},modalContent:{width:1*Ye,height:1*Ue,borderRadius:10,padding:20,position:"relative"},iconStyle:{marginRight:10}}),Je=()=>{const[e,t]=(0,n.useState)(!1),o=()=>{t(!e)};return(0,m.jsxs)(s.default,{style:Qe.container,children:[(0,m.jsxs)(y.default,{contentContainerStyle:Qe.contentContainer,children:[(0,m.jsxs)(s.default,{style:Qe.summary,children:[(0,m.jsx)(j.default,{name:"time-outline",size:40,color:"#388E3C",style:Qe.iconStyle}),(0,m.jsxs)(s.default,{style:Qe.summaryTextContainer,children:[(0,m.jsx)(l.default,{style:Qe.summaryText,children:"Total Time Spent on Device Today"}),(0,m.jsx)(l.default,{style:Qe.time,children:"2h 35m"})]})]}),(0,m.jsx)(s.default,{style:Qe.divider}),(0,m.jsxs)(s.default,{style:Qe.controlsContainer,children:[(0,m.jsx)(c.default,{onPress:o,style:Qe.controlButtonWrapper,children:(0,m.jsxs)(w.LinearGradient,{colors:["#4CAF50","#388E3C"],start:[0,0],end:[1,1],style:Qe.controlButton,children:[(0,m.jsx)(j.default,{name:"calendar-outline",size:24,color:"#fff",style:Qe.buttonIcon}),(0,m.jsx)(l.default,{style:Qe.controlButtonText,children:"Set Schedule"})]})}),(0,m.jsx)(c.default,{onPress:()=>{console.log("Navigating to Monitor Screen")},style:Qe.controlButtonWrapper,children:(0,m.jsxs)(w.LinearGradient,{colors:["#2196F3","#1976D2"],start:[0,0],end:[1,1],style:Qe.controlButton,children:[(0,m.jsx)(j.default,{name:"eye-outline",size:24,color:"#fff",style:Qe.buttonIcon}),(0,m.jsx)(l.default,{style:Qe.controlButtonText,children:"Monitor Screen"})]})}),(0,m.jsx)(c.default,{style:Qe.controlButtonWrapper,children:(0,m.jsxs)(w.LinearGradient,{colors:["#FF9800","#F57C00"],start:[0,0],end:[1,1],style:Qe.controlButton,children:[(0,m.jsx)(Me.default,{name:"apps",size:24,color:"#fff",style:Qe.buttonIcon}),(0,m.jsx)(l.default,{style:Qe.controlButtonText,children:"View Applications Usage"})]})})]}),(0,m.jsx)(s.default,{style:Qe.divider}),_e.map(((e,t)=>(0,m.jsxs)(s.default,{style:Qe.appUsage,children:[(0,m.jsxs)(s.default,{style:Qe.appInfo,children:[(0,m.jsx)(S.default,{size:24,color:"#333"}),(0,m.jsx)(l.default,{style:Qe.appLabel,children:e.label})]}),(0,m.jsx)(l.default,{style:Qe.appTime,children:e.time})]},t))),(0,m.jsx)(s.default,{style:Qe.divider})]}),(0,m.jsx)(T.default,{visible:e,animationType:"slide",transparent:!0,onRequestClose:o,children:(0,m.jsx)(s.default,{style:Qe.modalContainer,children:(0,m.jsx)(s.default,{style:Qe.modalContent,children:(0,m.jsx)(qe,{})})})})]})},Ke=d.default.create({container:{flex:1},headerContainer:{borderBottomLeftRadius:20,borderBottomRightRadius:20,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.2,shadowRadius:4,elevation:5,flex:.5},dashboardContainer:{flex:1.5,marginTop:0,borderTopLeftRadius:20,borderTopRightRadius:20,paddingTop:20,paddingHorizontal:5}}),Ze=({route:e})=>{const{item:t}=e.params;return(0,m.jsxs)(s.default,{style:Ke.container,children:[(0,m.jsx)(s.default,{style:Ke.headerContainer,children:(0,m.jsx)(We,{})}),(0,m.jsx)(s.default,{style:Ke.dashboardContainer,children:(0,m.jsx)(Je,{})})]})};o(1297);const Xe=d.default.create({tabbar:{position:"absolute",bottom:0,left:0,right:0,flexDirection:"row",justifyContent:"space-around",alignItems:"center",backgroundColor:"#fff",paddingVertical:10,shadowColor:"#000",shadowOffset:{width:0,height:5},shadowOpacity:.1,shadowRadius:10,elevation:5,borderTopEndRadius:20,borderTopLeftRadius:20},tabbarItem:{flex:1,justifyContent:"center",alignItems:"center",padding:10},label:{fontSize:11,marginTop:4},indicatorWrapper:{position:"absolute",bottom:-5,width:"100%",alignItems:"center"},indicator:{width:6,height:6,borderRadius:3,backgroundColor:"#0891b2"}}),et=({state:e,descriptors:t,navigation:o})=>{const a={Home:e=>(0,m.jsx)(S.default,Object.assign({name:"home",size:26},e)),Location:e=>(0,m.jsx)(Z.default,Object.assign({name:"location",size:26},e)),Notifications:e=>(0,m.jsx)(j.default,Object.assign({name:"notifications",size:26},e)),Child:e=>(0,m.jsx)(S.default,Object.assign({name:"child",size:26},e))},n="#0891b2",i="#737373";return(0,m.jsx)(s.default,{style:Xe.tabbar,children:e.routes.map(((r,s)=>{const{options:d}=t[r.key],u=void 0!==d.title?d.title:r.name;if(["sitemap","not-found"].includes(r.name))return null;const f=e.index===s;return(0,m.jsxs)(c.default,{style:Xe.tabbarItem,accessibilityRole:"button",accessibilityState:f?{selected:!0}:{},accessibilityLabel:d.tabBarAccessibilityLabel,testID:d.tabBarTestID,onPress:()=>{const e=o.emit({type:"tabPress",target:r.key,canPreventDefault:!0});f||e.defaultPrevented||o.navigate(r.name,r.params)},children:[a[r.name]({color:f?n:i}),(0,m.jsx)(l.default,{style:{color:f?n:i,fontSize:11},children:u})]},r.name)}))})},{width:tt,height:ot}=J.default.get("window"),at=({style:e})=>(0,m.jsx)(f.default.View,{style:[nt.bubble,e]}),nt=d.default.create({headerContainer:{position:"relative",width:"100%",height:190,paddingHorizontal:20,paddingTop:25,paddingBottom:20,backgroundColor:"#fffecb",flexDirection:"row",justifyContent:"space-between",alignItems:"center",overflow:"hidden"},textContainer:{flex:1},greetingText:{fontSize:28,fontWeight:"bold",color:"#333"},subText:{fontSize:16,color:"#666",marginTop:5},profileImage:{width:80,height:80,borderRadius:50,borderWidth:4,borderColor:"#fff",shadowColor:"#000",shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:5,elevation:8},bubble:{position:"absolute",backgroundColor:"rgba(135, 206, 250, 0.5)",borderRadius:50}}),it=({firstName:e,lastName:t})=>{const o=(0,n.useRef)(new f.default.Value(0)).current,a=(0,n.useRef)(new f.default.Value(0)).current;(0,n.useEffect)((()=>{f.default.loop(f.default.sequence([f.default.timing(o,{toValue:1,duration:6e3,useNativeDriver:!0}),f.default.timing(o,{toValue:0,duration:0,useNativeDriver:!0})])).start(),f.default.loop(f.default.sequence([f.default.timing(a,{toValue:1,duration:5e3,useNativeDriver:!0}),f.default.timing(a,{toValue:0,duration:0,useNativeDriver:!0})])).start()}),[]);const i=o.interpolate({inputRange:[0,1],outputRange:[ot,-100]}),r=a.interpolate({inputRange:[0,1],outputRange:[ot,-150]});return(0,m.jsxs)(s.default,{style:nt.headerContainer,children:[(0,m.jsx)(at,{style:{width:100,height:100,bottom:0,left:-50,transform:[{translateY:i}]}}),(0,m.jsx)(at,{style:{width:80,height:80,bottom:-30,right:-40,transform:[{translateY:r}]}}),(0,m.jsxs)(s.default,{style:nt.textContainer,children:[(0,m.jsxs)(l.default,{style:nt.greetingText,children:["Hi ",e,", ",t]}),(0,m.jsx)(l.default,{style:nt.subText,children:"Welcome"})]}),(0,m.jsx)(u.default,{source:{uri:"https://via.placeholder.com/100"},style:nt.profileImage})]})};var rt=o(9672);const st=d.default.create({contentContainer:{flexGrow:1,padding:15},dashboardContainer:{flex:1},usageContainer:{marginBottom:20,padding:15,borderRadius:20,backgroundColor:"#fff"},usageDetails:{paddingTop:10},usageItem:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:10},usageLabel:{fontSize:16,fontWeight:"bold",color:"#333"},usageValue:{fontSize:16,color:"#666"},schedulesContainer:{marginBottom:20},scheduleCard:{flexDirection:"row",alignItems:"center",paddingVertical:15,paddingHorizontal:20,borderRadius:15,backgroundColor:"#f7f7f7",marginBottom:15,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:2},scheduleTitle:{fontSize:16,fontWeight:"bold",color:"#333",marginLeft:10,marginBottom:5},scheduleTime:{fontSize:14,color:"#888",marginLeft:10},tasksContainer:{paddingVertical:20,paddingHorizontal:15,borderRadius:20,backgroundColor:"#fff"},sectionHeader:{fontSize:18,fontWeight:"bold",marginBottom:20,color:"#333"},taskCard:{flexDirection:"row",alignItems:"center",paddingVertical:15,paddingHorizontal:20,borderRadius:15,backgroundColor:"#f7f7f7",marginBottom:15,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:2},taskTitle:{fontSize:16,color:"#333",marginLeft:10,marginBottom:5},taskTime:{fontSize:14,color:"#888",marginLeft:10}});var lt=o(6115);const dt=()=>{const[e,t]=(0,n.useState)(0),[o,a]=(0,n.useState)("Loading...");return(0,n.useEffect)((()=>{const e=Date.now(),o=setInterval((()=>{t(Math.floor((Date.now()-e)/1e3))}),1e3);return(async()=>{const e=await lt.getBatteryLevelAsync();a(`${Math.floor(100*e)}%`)})(),()=>clearInterval(o)}),[]),(0,m.jsx)(y.default,{contentContainerStyle:st.contentContainer,children:(0,m.jsxs)(s.default,{style:st.dashboardContainer,children:[(0,m.jsxs)(s.default,{style:st.usageContainer,children:[(0,m.jsx)(l.default,{style:st.sectionHeader,children:"Device Usage"}),(0,m.jsxs)(s.default,{style:st.usageDetails,children:[(0,m.jsxs)(s.default,{style:st.usageItem,children:[(0,m.jsx)(rt.default,{name:"timer-outline",size:24,color:"#333"}),(0,m.jsx)(l.default,{style:st.usageLabel,children:"App Session Time:"}),(0,m.jsxs)(l.default,{style:st.usageValue,children:[Math.floor(e/60),"m ",e%60,"s"]})]}),(0,m.jsxs)(s.default,{style:st.usageItem,children:[(0,m.jsx)(rt.default,{name:"battery-half-outline",size:24,color:"#333"}),(0,m.jsx)(l.default,{style:st.usageLabel,children:"Battery Level:"}),(0,m.jsx)(l.default,{style:st.usageValue,children:o})]})]})]}),(0,m.jsxs)(s.default,{style:st.schedulesContainer,children:[(0,m.jsx)(l.default,{style:st.sectionHeader,children:"App Schedules"}),(0,m.jsxs)(c.default,{style:st.scheduleCard,children:[(0,m.jsx)(rt.default,{name:"logo-youtube",size:24,color:"#FF0000"}),(0,m.jsx)(l.default,{style:st.scheduleTitle,children:"YouTube"}),(0,m.jsx)(l.default,{style:st.scheduleTime,children:"Allowed: 1h/day"})]}),(0,m.jsxs)(c.default,{style:st.scheduleCard,children:[(0,m.jsx)(rt.default,{name:"logo-tiktok",size:24,color:"#000"}),(0,m.jsx)(l.default,{style:st.scheduleTitle,children:"TikTok"}),(0,m.jsx)(l.default,{style:st.scheduleTime,children:"Blocked: 8pm - 7am"})]}),(0,m.jsxs)(c.default,{style:st.scheduleCard,children:[(0,m.jsx)(rt.default,{name:"game-controller-outline",size:24,color:"#333"}),(0,m.jsx)(l.default,{style:st.scheduleTitle,children:"Gaming"}),(0,m.jsx)(l.default,{style:st.scheduleTime,children:"Allowed: Weekends Only"})]})]})]})})},{width:ct}=J.default.get("window"),ut=new f.default.Value(-ct),ft=d.default.create({container:{flex:1,backgroundColor:"white"},headerContainer:{borderBottomLeftRadius:20,borderBottomRightRadius:20,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.2,shadowRadius:4,elevation:5,flex:.5},dashboardContainer:{flex:1.5,backgroundColor:"#dfdfdf",borderTopLeftRadius:20,borderTopRightRadius:20,paddingTop:10}}),gt=()=>{const[e,t]=(0,n.useState)(!1),[o,a]=(0,n.useState)(null);(0,n.useEffect)((()=>{(async()=>{const e=(0,D.getAuth)().currentUser;if(e)try{const t=await ye(e.uid);a(t)}catch(t){console.error("Error fetching user data:",t)}})()}),[]),(0,n.useEffect)((()=>{f.default.timing(ut,{toValue:e?0:-ct,duration:300,useNativeDriver:!1}).start()}),[e]);return(0,m.jsxs)(s.default,{style:ft.container,children:[(0,m.jsx)(s.default,{style:ft.headerContainer,children:(0,m.jsx)(it,{firstName:o?.firstName||"Guest",lastName:o?.lastName||""})}),(0,m.jsx)(s.default,{style:ft.dashboardContainer,children:(0,m.jsx)(dt,{})})]})},ht=d.default.create({headerContainer:Object.assign({paddingVertical:20,paddingHorizontal:20,borderBottomLeftRadius:20,borderBottomRightRadius:20,marginBottom:0},{cursor:"pointer"}),header:{fontSize:20,fontWeight:"bold",color:"#8e8d8d"},mapContainer:{flex:1,position:"relative"},map:{position:"absolute",top:0,bottom:0,left:0,right:0}}),mt=()=>(0,m.jsxs)(s.default,{style:{flex:1},children:[(0,m.jsx)(Se.default,{pointerEvents:"box-none",children:(0,m.jsx)(w.LinearGradient,{colors:["#ffffff","#bdc5da"],style:ht.headerContainer,children:(0,m.jsx)(l.default,{style:ht.header,children:"Manage Child"})})}),(0,m.jsx)(s.default,{style:ht.mapContainer})]}),pt=d.default.create({modalContainer:{flex:1,justifyContent:"center",alignItems:"center"},modalContent:{width:"80%",padding:20,borderRadius:10,backgroundColor:"#fff",alignItems:"center"},title:{fontSize:24,marginBottom:20},qrContainer:{marginTop:30,padding:20,borderRadius:10,backgroundColor:"#fff",alignItems:"center"},placeholderText:{marginTop:30,fontSize:16,color:"#888"},closeButton:{marginTop:20,padding:10,backgroundColor:"#7F3DFF",borderRadius:5},closeButtonText:{color:"#fff",fontSize:16}}),xt=({isVisible:e,onClose:t,deviceId:o})=>{const[a,i]=(0,n.useState)("");return(0,n.useEffect)((()=>{o&&i(o)}),[o]),(0,m.jsx)(T.default,{visible:e,transparent:!0,animationType:"slide",children:(0,m.jsx)(s.default,{style:pt.modalContainer,children:(0,m.jsxs)(s.default,{style:pt.modalContent,children:[(0,m.jsx)(l.default,{style:pt.title,children:"Scan to Connect"}),a?(0,m.jsx)(s.default,{style:pt.qrContainer}):(0,m.jsx)(l.default,{style:pt.placeholderText,children:"Loading QR Code..."}),(0,m.jsx)(c.default,{onPress:t,style:pt.closeButton,children:(0,m.jsx)(l.default,{style:pt.closeButtonText,children:"Close"})})]})})})},yt=d.default.create({sidebarContainer:{position:"absolute",top:0,bottom:0,backgroundColor:"#fff",shadowColor:"#000",shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:8,elevation:10,zIndex:10,borderTopRightRadius:20,borderBottomRightRadius:20},sidebar:{flex:1,paddingTop:50,paddingHorizontal:25},header:{alignItems:"center",marginBottom:30},profileImage:{width:80,height:80,borderRadius:40,marginBottom:10,borderWidth:2,borderColor:"#7F3DFF"},profileName:{fontSize:22,fontWeight:"bold",color:"#333"},sidebarItem:{flexDirection:"row",alignItems:"center",paddingVertical:15,paddingHorizontal:10,marginBottom:15,borderRadius:10,backgroundColor:"#f7f7f7",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:2},sidebarIcon:{marginRight:15},sidebarItemText:{fontSize:18,color:"#333"},qrConnectText:{color:"#7F3DFF",fontWeight:"bold"},logoutText:{color:"#FF4C4C",fontWeight:"bold"}}),bt=({sidebarPosition:e,toggleSidebar:t,deviceId:o})=>{const[a,i]=(0,n.useState)(!1),r=(0,h.useNavigation)();return(0,m.jsxs)(f.default.View,{style:[yt.sidebarContainer,{left:e,width:"30%"}],children:[(0,m.jsxs)(s.default,{style:yt.sidebar,children:[(0,m.jsxs)(s.default,{style:yt.header,children:[(0,m.jsx)(u.default,{source:{uri:"https://via.placeholder.com/150"},style:yt.profileImage}),(0,m.jsx)(l.default,{style:yt.profileName,children:"Child"})]}),(0,m.jsxs)(c.default,{style:yt.sidebarItem,onPress:t,children:[(0,m.jsx)(j.default,{name:"person-outline",size:24,color:"#333",style:yt.sidebarIcon}),(0,m.jsx)(l.default,{style:yt.sidebarItemText,children:"Account"})]}),(0,m.jsxs)(c.default,{style:yt.sidebarItem,onPress:()=>{i(!0),t()},children:[(0,m.jsx)(j.default,{name:"qr-code-outline",size:24,color:"#7F3DFF",style:yt.sidebarIcon}),(0,m.jsx)(l.default,{style:[yt.sidebarItemText,yt.qrConnectText],children:"QR Connect"})]}),(0,m.jsxs)(c.default,{style:yt.sidebarItem,onPress:t,children:[(0,m.jsx)(j.default,{name:"settings-outline",size:24,color:"#333",style:yt.sidebarIcon}),(0,m.jsx)(l.default,{style:yt.sidebarItemText,children:"Settings"})]}),(0,m.jsxs)(c.default,{style:yt.sidebarItem,onPress:t,children:[(0,m.jsx)(j.default,{name:"information-circle-outline",size:24,color:"#333",style:yt.sidebarIcon}),(0,m.jsx)(l.default,{style:yt.sidebarItemText,children:"About"})]}),(0,m.jsxs)(c.default,{style:yt.sidebarItem,onPress:async()=>{try{await F.signOut(),await L.default.removeItem("userToken"),await L.default.removeItem("userRole"),r.replace("ChooseAccount"),(0,k.showMessage)({message:"Logged Out",description:"You have been logged out successfully.",type:"success",icon:"success",duration:4e3})}catch(e){(0,k.showMessage)({message:"Logout Failed",description:e.message||"An error occurred while logging out.",type:"danger",icon:"danger",duration:8e3})}},children:[(0,m.jsx)(j.default,{name:"log-out-outline",size:24,color:"#FF4C4C",style:yt.sidebarIcon}),(0,m.jsx)(l.default,{style:[yt.sidebarItemText,yt.logoutText],children:"Log Out"})]})]}),(0,m.jsx)(xt,{isVisible:a,onClose:()=>{i(!1)},deviceId:o})]})},{width:wt}=J.default.get("window"),jt=(0,K.default)(),Ct=d.default.create({container:{flex:1,backgroundColor:"#f8f9fa"},profileButton:{position:"absolute",top:6,right:20,width:50,height:50,alignItems:"center",justifyContent:"center",zIndex:20}}),vt=({deviceId:e})=>{const[t,o]=(0,n.useState)(!1),a=(0,n.useState)(new f.default.Value(.75*-wt))[0];(0,n.useState)(new f.default.Value(.75*-wt))[0];(0,n.useEffect)((()=>{f.default.timing(a,{toValue:t?0:.75*-wt,duration:300,useNativeDriver:!1}).start()}),[t]);const i=()=>{o(!t)};return(0,m.jsxs)(s.default,{style:Ct.container,children:[(0,m.jsxs)(jt.Navigator,{tabBar:e=>(0,m.jsx)(et,Object.assign({},e)),children:[(0,m.jsx)(jt.Screen,{name:"Home",component:gt,options:{headerShown:!1}}),(0,m.jsx)(jt.Screen,{name:"Location",component:mt,options:{headerShown:!1}})]}),(0,m.jsx)(c.default,{onPress:i,style:Ct.profileButton,children:(0,m.jsx)(j.default,{name:"reorder-three-outline",size:40,color:"#8e8d8d"})}),(0,m.jsx)(bt,{sidebarPosition:a,toggleSidebar:i,deviceId:e})]})},Tt=(0,r.default)(),St=()=>(0,m.jsx)(i.default,{children:(0,m.jsxs)(Tt.Navigator,{initialRouteName:"GetStarted",screenOptions:{headerShown:!1},children:[(0,m.jsx)(Tt.Screen,{name:"GetStarted",component:x}),(0,m.jsx)(Tt.Screen,{name:"TermsAndConditions",component:v}),(0,m.jsx)(Tt.Screen,{name:"RoleSelection",component:Q}),(0,m.jsx)(Tt.Screen,{name:"_parentLayout",component:Ve}),(0,m.jsx)(Tt.Screen,{name:"ManageChild",component:Ze}),(0,m.jsx)(Tt.Screen,{name:"AuthForm",component:U}),(0,m.jsx)(Tt.Screen,{name:"_childLayout",component:vt})]})});(0,a.default)(St)},7227:(e,t,o)=>{e.exports=o.p+"static/media/TermsCondition.dd1164c79323f8568724.png"},1690:(e,t,o)=>{e.exports=o.p+"static/media/RoleSelection.fba69b26a4367b0b81fa.png"},9351:(e,t,o)=>{e.exports=o.p+"static/media/ScreenGuard.929996426defcb4407d9.png"},810:(e,t,o)=>{e.exports=o.p+"static/media/child.1d6b996a981a819a4ba1.png"},1082:(e,t,o)=>{e.exports=o.p+"static/media/parent.6352c3e713413c105c41.png"}},t={};function o(a){var n=t[a];if(void 0!==n)return n.exports;var i=t[a]={exports:{}};return e[a].call(i.exports,i,i.exports,o),i.exports}o.m=e,(()=>{var e=[];o.O=(t,a,n,i)=>{if(!a){var r=1/0;for(c=0;c<e.length;c++){for(var[a,n,i]=e[c],s=!0,l=0;l<a.length;l++)(!1&i||r>=i)&&Object.keys(o.O).every((e=>o.O[e](a[l])))?a.splice(l--,1):(s=!1,i<r&&(r=i));if(s){e.splice(c--,1);var d=n();void 0!==d&&(t=d)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[a,n,i]}})(),o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.p="/",(()=>{var e={792:0};o.O.j=t=>0===e[t];var t=(t,a)=>{var n,i,[r,s,l]=a,d=0;if(r.some((t=>0!==e[t]))){for(n in s)o.o(s,n)&&(o.m[n]=s[n]);if(l)var c=l(o)}for(t&&t(a);d<r.length;d++)i=r[d],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(c)},a=self.webpackChunkweb=self.webpackChunkweb||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=o.O(void 0,[666],(()=>o(7853)));a=o.O(a)})();
//# sourceMappingURL=main.ca0a0d25.js.map